<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Jiang Yuxin - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">SugarMummy</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103-T16-1/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Jiang Yuxin - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-sugarmummy"><a class="link" href="#project-sugarmummy">PROJECT: SugarMummy</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>SugarMummy is a desktop application used to manage a type-II diabetic lifestyle. The user interacts with it using a CLI,
and it has a GUI created with JavaFx. It is written in Java and has about 24 kLOC.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>a calendar system</strong> with <strong>real-time reminder</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to add calendar entries(reminder and event) and automatically generate real-time reminders.</p>
</li>
<li>
<p>Justification: This feature improves the product significantly because a diabetic patients could be busy with their work or study already and they may need to keep track of important events, such as appointment with doctor,
buying medicine regularly and be reminded at certain time so they do not forget, such as injecting insulin.</p>
</li>
<li>
<p>Highlights: This enhancement deals with date and time and scheduling tasks using the java multithreaded API <code>ScheduledExecutorService</code>. It provides both dynamic and static viewing of calendar entries.
When the app is running concurrently, reminders are automatically shown in the side pane according to the time set by the user without interrupting user typing other commands. Reminder list can be updated at times during the running time of the app,
it requires the scheduler to update scheduled tasks. Also reminders can recur daily or weekly so scheduler needs to adapt those reminders to an one-time reminder on certain date. Moreover, to avoid potential duplicate reminder shown in the side pane,
the calendar checks any reminders that overlap with each other.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>added a calendar command that allows the user to view monthly calendar and a list of calendar entries on a day or each day in a month or in a week.</p>
</li>
<li>
<p>added a pane for showing reminders that the user might miss.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=jyx11011&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false">View RepoSense</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote additional tests for existing features to increase coverage. (Pull request: <a href="https://github.com/AY1920S1-CS2103-T16-1/main/pull/166">#21</a>)</p>
</li>
<li>
<p>Clean up unused code. (Pull request: <a href="https://github.com/AY1920S1-CS2103-T16-1/main/pull/96">#96</a>)</p>
</li>
<li>
<p>Update UG,DG and refactor package. (Pull request: <a href="https://github.com/AY1920S1-CS2103-T16-1/main/pull/109">#109</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Update intro, quickstart and summary of user guide. (Pull request: <a href="https://github.com/AY1920S1-CS2103-T16-1/main/pull/19">#19</a>)</p>
</li>
<li>
<p>Draft about us page. (Pull request: <a href="https://github.com/AY1920S1-CS2103-T16-1/main/pull/21">#21</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="calendar-and-reminder"><a class="link" href="#calendar-and-reminder">CALENDAR AND REMINDER</a></h3>
<div class="paragraph">
<p>Command arguments for calendar and reminder:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>d/DESCRIPTION</code> Description can take any values, and it should not be blank. If more than one are present, the last argument is taken.</p>
</li>
<li>
<p><code>dt/DATETIME</code> The format of date time is: <code>yyyy-mm-dd hh:mm</code> and the number should be valid.
If more than one are present and the command only accepts one <code>dt/</code>, the last argument is taken. Otherwise, see below in <code>event</code> command for more details.</p>
</li>
<li>
<p><code>r/REPETITION</code> Repetition can only take value <code>once</code>, <code>daily</code> or <code>weekly</code>(case insensitive). If more than one are present, the last argument is taken.</p>
</li>
<li>
<p><code>td/TIMEDURATION</code> The format of time duration is: <code>hh:mm</code> and it should not be blank. e.g.
<code>01:30</code> represents 1 hour and 30 minutes. If more than one are present, the last argument is taken.</p>
</li>
<li>
<p><code>ym/YEAR_MONTH</code> The format of year month is: <code>yyyy-mm</code> and the number should be valid. If more than one are present, the last argument is taken.</p>
</li>
<li>
<p><code>ymd/YEAR_MONTH_DAY</code> The format of year month day is: <code>yyyy-mm-dd</code> and the number should be valid. If more than one are present, the last argument is taken.</p>
</li>
<li>
<p><code>ymw/YEAR_MONTH_DAY</code> The format of year month day is: <code>yyyy-dd-dd</code> and the number should be valid(same as year month day). If more than one are present, the last argument is taken.
See below in <code>calendar</code> command for more details if more than one of <code>ym/</code>, <code>ymd</code>, <code>ymw/</code> are present.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="add-a-reminder-code-reminder-code"><a class="link" href="#add-a-reminder-code-reminder-code">Add a reminder: <code>reminder</code></a></h4>
<div class="paragraph">
<p>Format: <code>reminder d/DESCRIPTION dt/DATETIME [r/REPETITION]</code></p>
</div>
<div class="paragraph">
<p>Add a reminder at a specific time and date. There is no repetition by default and user can specify a daily or weekly or no repetition optionally.
If it is a repeated reminder, the date inputted is the starting date of the reminder(reminder with date time before the current date time is allowed).
And it provides duplicate and conflicting checking as well as auto merging for reminders added.
For example, <code>reminder d/insulin inject dt/2019-11-25 17:30 r/daily</code> adds a new reminder of insulin injection at 17:30 everyday from 2019 Nov 25.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>More on duplicate and conflicting check and auto merging</p>
<div class="ulist">
<ul>
<li>
<p>To avoid duplicate reminders, the app will not accept reminders that already exist in the system(same description, date time and repetition). Similarly,
reminders that are completely covered by an existing reminder will not be added again. For example, if the previous reminder command is successful,
<code>reminder d/insulin inject dt/2019-12-01 17:30 r/weekly</code> will not add the new reminder because it is completely covered (whenever the later one shows up, the
previous one shows up at the same time with the same description). <code>reminder d/insulin inject dt/2019-12-01 12:00 r/daily</code> is not considered covered because
there could be two injections one day.</p>
</li>
<li>
<p>Moreover, new reminder that covers one or more existing reminders can be added and those existing ones will be removed automatically.
For example, if <code>reminder d/insulin inject dt/2019-11-20 17:30 r/daily</code> is typed after the
previous one, it replaces the insulin inject from 2019-11-25 because whenever the previous reminder shows up, the new reminder shows up with the same description.</p>
</li>
<li>
<p>However, if the new reminder overlaps with existing ones but they cannot be merged, it
will not be added. To illustrate, <code>reminder d/insulin inject dt/2019-11-18 17:30 r/weekly</code> is rejected because on 2019 Nov 18 it shows up at 17:30 alone. After
2019 Nov 20, this reminder will be a duplicate of the previous one every Monday.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Reminder list side pane</p>
<div class="ulist">
<ul>
<li>
<p>On the right side of the app window, there is a pane for reminder list with the date showing on the top.
The reminder list pane is split into two parts: a real-time reminder list on top of a probably missed reminder list.</p>
</li>
<li>
<p>The real-time reminder list is empty if there is no reminder set at current time. If the app is open, the reminders will show up in the pane at the time set by the user.
For example, if the user opens the app at 17:00 on 2019 Nov 30. A reminder of insulin injection will show up at 17:30 if the user has not closed the app.</p>
</li>
<li>
<p>The probably missed reminder list includes all reminders that should exist in at the time between the starting of day and the time when the user opens the app. For example,
if the user opens the app at 17:00 on 2019 Nov 30, it lists all reminders from 00:00 to 16:59 on that day.
However, if the user adds a reminder on 2019 Nov 30 17:10 at 17:20 on that day, it will neither exist in the real-time reminder list pane nor the missed reminder list pane.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="add-an-event-code-event-code"><a class="link" href="#add-an-event-code-event-code">Add an event: <code>event</code></a></h4>
<div class="paragraph">
<p>Format: <code>event d/DESCRIPTION dt/DATETIME [dt/DATETIME] [td/TIME_DURATION]</code></p>
</div>
<div class="paragraph">
<p>Add an event with a starting time and an optional ending time(starting time before the current date time is accepted). There is no reminder for an event by default.
User can also create a reminder for this event by specifying a time duration and a one time reminder will show up at the starting time of the event minus this time duration.
For example, <code>event d/appointment dt/2019-12-20 14:00 dt/2019-12-20 15:00 td/01:30</code> adds an appointment event on 2019 Dec 20 15:00 to the calendar and a reminder for it at
13:30 on that day.</p>
</div>
<div class="paragraph">
<p>If only one <code>dt/</code> is present, it will be recognized as the starting date time. If there are more than one <code>dt/</code>, the first and second one are interpreted as starting and ending
date time. Starting date time should come before ending date time. If they are equal, then ending date time is discarded.
A duplicate event(same description and starting date time) will be rejected. However, events that overlap with existing ones are accepted with a message shown to the user.
For example, <code>event d/appointment dt/2019-12-20 14:00 dt/2019-12-20 16:00</code> will be rejected after the previous event commands. <code>event d/test dt/2019-12-20 13:00 dt/2019-12-20 14:10</code>
is accepted with a message shown.</p>
</div>
</div>
<div class="sect3">
<h4 id="view-calendar-entries-code-calendar-code"><a class="link" href="#view-calendar-entries-code-calendar-code">View calendar entries: <code>calendar</code></a></h4>
<div class="paragraph">
<p>Format: <code>calendar [ym/YEAR_MONTH] [ymw/YEAR_MONTH_DAY] [ymd/YEAR_MONTH_DAY]</code></p>
</div>
<div class="paragraph">
<p>View all calendar entries or calendar entries in a month or in a week or on a day.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If none of the three arguments is present, it will show all calendar entries added by the user.</p>
</li>
<li>
<p>If one or more of the three arguments are present, it accepts the one with the smallest time unit. e.g. if <code>ymw</code> and <code>ymd</code> are
both typed in, it only shows entries on the given date if the date is valid.</p>
<div class="ulist">
<ul>
<li>
<p><code>ymd/</code> shows the monthly calendar of given date and below the calendar is a list of reminders and events on that day. Particularly, if
no date is provided, it will show calendar entries on the current date.</p>
</li>
<li>
<p><code>ymw/</code> shows the monthly calendar of given date and below the calendar is a list of reminders and events on each day in the week. <code>ymw/</code>
accepts a date also and the week picked is 7 days from Monday to Friday which include the given date. Particularly, if no date is provided,
it will show calendar entries in the current week. For example, <code>calendar ymw/2019-12-03</code> will show a monthly calendar of 2019 December and
calendar entries from Dec 2 to Dec 8.</p>
</li>
<li>
<p><code>ym/</code> shows the monthly calendar of given month and below the calendar is a list of reminders and events on each day in the month. <code>ym/</code>
accepts a month. Particularly, if no date is provided, it will show calendar entries in the current week.</p>
</li>
<li>
<p>For the monthly calendar shown, the subscript number beside each date is the number events and reminders on that day. And the current date is
in a different color.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="snooze-reminder-code-snooze-code-code-coming-in-v2-0-code"><a class="link" href="#snooze-reminder-code-snooze-code-code-coming-in-v2-0-code">Snooze reminder: <code>snooze</code> <code>[coming in v2.0]</code></a></h4>
<div class="paragraph">
<p>Format: <code>snooze [tp/TIME_PERIOD]</code></p>
</div>
<div class="paragraph">
<p>Silence the current reminder and activate it after a time period.</p>
</div>
</div>
<div class="sect3">
<h4 id="complete-a-task-code-complete-code-code-coming-in-v2-0-code"><a class="link" href="#complete-a-task-code-complete-code-code-coming-in-v2-0-code">Complete a task: <code>complete</code> <code>[coming in v2.0]</code></a></h4>
<div class="paragraph">
<p>Format: <code>complete [INDEX] [t/TIME]</code></p>
</div>
<div class="paragraph">
<p>Mark all the reminders before now as completed if no argument provided.
Otherwise, mark only those tasks with indices provided or before the specific time as completed.</p>
</div>
</div>
<div class="sect3">
<h4 id="set-time-zone-code-timezone-code-code-coming-in-v2-0-code"><a class="link" href="#set-time-zone-code-timezone-code-code-coming-in-v2-0-code">Set time zone: <code>timezone</code> <code>[coming in v2.0]</code></a></h4>
<div class="paragraph">
<p>Format: <code>timezone tz/TIME_ZONE [t/TIME] [t/TIME_END]</code></p>
</div>
<div class="paragraph">
<p>Set the time zone of the application permanently or in any time interval(e.g. For travelling).</p>
</div>
</div>
<div class="sect3">
<h4 id="cancel-an-entry-in-calendar-code-coming-in-v2-0-code"><a class="link" href="#cancel-an-entry-in-calendar-code-coming-in-v2-0-code">Cancel an entry in calendar <code>[coming in v2.0]</code></a></h4>
<div class="paragraph">
<p>Format: <code>cancel [et/ENTRYTYPE] [d/DESCRIPTION] [dt/DATETIME] [dt/DATETIME]</code></p>
</div>
<div class="paragraph">
<p>Delete an event that you do not want to keep track anymore.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="calendar-feature"><a class="link" href="#calendar-feature">Calendar feature</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="sect4">
<h5 id="overview-2"><a class="link" href="#overview-2">Overview</a></h5>
<div class="paragraph">
<p>The calendar feature is mainly supported by <code>Calendar</code> along with a <code>Scheduler</code>. <code>Calendar</code> stores internally a <code>calendarEntries</code> list, a <code>pastReminders</code> list and a <code>Scheduler</code>.
It also handles checking for duplicate and overlapping calendar entries.
Calendar entries consists of <code>Reminder`s and `Event`s. `calendarEntries</code> list is an unique list for all calendar entries added
by the user. Aside from it, <code>pastReminders</code> list is dynamically determined by time. The <code>Scheduler</code>, which utilizes java <code>ScheduledExecutorService</code> is responsible for adding reminders at specific time to the
<code>pastReminders</code> list and all reminders in this list is shown to the user. The real-time reminder works parallel with all other features in this app. Also <code>Scheduler</code> keeps track of the current date and the starting
time of running the app.</p>
</div>
<div class="paragraph">
<p>Calendar implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Calendar#addCalendarEntry</code>&#8201;&#8212;&#8201;Adds a new calendar entry to the calendar.</p>
</li>
<li>
<p><code>Calendar#addPastReminder</code>&#8201;&#8212;&#8201;Adds a reminder to the past reminders list.</p>
</li>
<li>
<p><code>Calendar#getCalendarEntryList</code>&#8201;&#8212;&#8201;Gets a list of calendar entries.</p>
</li>
<li>
<p><code>Calendar#getPastReminderList</code>&#8201;&#8212;&#8201;Gets a list of past reminders.</p>
</li>
<li>
<p><code>Calendar#schedule</code>&#8201;&#8212;&#8201;Schedules a series of upcoming reminders.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface as <code>Model#addCalendarEntry()</code>, <code>Model#addPastReminder()</code>,
 <code>Model#getFilteredCalendarEntryList()</code>, <code>Model#getPastReminderList()</code> and <code>Model#schedule()</code> respectively.</p>
</div>
<div class="paragraph">
<p>See the class diagram below for calendar related classes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CalendarClassDiagram.png" alt="CCD" width="400">
</div>
</div>
</div>
<div class="sect4">
<h5 id="reminder-and-event-class"><a class="link" href="#reminder-and-event-class">Reminder and Event class</a></h5>
<div class="paragraph">
<p>Basically, both <code>Reminder</code> and <code>Event</code> which extend from the abstract class <code>CalendarEntry</code> consist of a <code>Description</code> and a <code>DateTime</code> field.</p>
</div>
<div class="paragraph">
<p>For <code>Reminder</code>, the <code>DateTime</code> field represents the time of the reminder and the date from which the reminder starts.
It has a field of <code>Repetition</code>, which is an enum class representing <code>Daily</code>, <code>Weekly</code> or <code>Once</code> repetition type of the reminder.</p>
</div>
<div class="paragraph">
<p>For <code>Event</code>, it has another optional <code>DateTime</code> field and an optional <code>Reminder</code> field. The compulsory <code>DateTime</code> field is the starting date time while the optional one is the ending date time. The <code>Reminder</code>
is for an auto reminder created by the app if the user requires in the command.</p>
</div>
</div>
<div class="sect4">
<h5 id="eventcommand-and-remindercommand-class"><a class="link" href="#eventcommand-and-remindercommand-class">EventCommand and ReminderCommand class</a></h5>
<div class="paragraph">
<p>To add events or reminders, the calendar system implemented <code>EventCommand</code> and <code>ReminderCommand</code>. Before adding an event, the calendar system will check whether any duplicate event exists and any events overlap
with the new event by comparing the <code>DateTime</code> attributes.</p>
</div>
<div class="paragraph">
<p>The execution of the <code>ReminderCommand</code> involves checking whether any duplicate reminder exists also. Due to probable recurrence of reminders, it also
checks if any reminder can fully cover the new reminder by comparing <code>DateTime</code> and <code>Repetition</code>. In this case, the new reminder will not be added. Besides, if the new reminder can cover other reminders, new reminder
will replace them. For those overlap but cannot be resolved, the system will not add the new reminder either.</p>
</div>
</div>
<div class="sect4">
<h5 id="scheduler-class"><a class="link" href="#scheduler-class">Scheduler class</a></h5>
<div class="paragraph">
<p>To show reminders at certain time, the <code>Scheduler</code> utilizes java <code>ScheduledExecutorService</code> to schedule a future task with a delay. It creates two inner classes implementing the <code>Runnable</code> interface for tasks. The <code>ReminderAdder</code>
class represents a task of adding a reminder to the past reminder list. <code>Initializer</code> class represents a task of initializing the scheduler at the beginning of a day.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Range of tasks scheduled</strong><br></p>
<div class="ulist">
<ul>
<li>
<p>To calculate the accurate delay time for each reminder, the scheduler keeps track of starting time for all the scheduled tasks and the delay is the time duration between this starting time and the reminder time.
Apart from the starting time, there is a deadline for the scheduler which limits the time range for scheduled reminder tasks. So the scheduler only schedules tasks for reminders between the starting time and the deadline.
In addition, before scheduling tasks, all reminders with the same time are grouped together by using a <code>TreeMap</code> to map from each time to a list of reminders so they can be added to the past reminder list together.</p>
</li>
<li>
<p>After the app is launched, the <code>Scheduler</code> is called to initialize tasks. The starting time is set to be the starting date time and the deadline is set to be 23:59 on the same day. Thus only reminders on the current date is scheduled.
During the app running, <code>Scheduler</code> can be called to reschedule tasks because of adding new reminders or removing reminders. This will adjust the starting time for scheduling to the current time while the deadline remains the same.
Due to the limited number of threads and unknown number of upcoming reminders, the scheduler will cancel all the tasks that have not been executed and then schedule upcoming reminders that fall between the new starting time and the deadline.
Each time any reminder being added or removed, the scheduler is triggered to reschedule tasks.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>How to move on to next day</strong><br>
Besides scheduling tasks of adding reminders, the scheduler always schedules a task with <code>Initializer</code> class for initializing right after the current deadline, so that it can transfer smoothly to the next day if the app is open overnight. This initializer will set the
deadline to be end of the next day, update date and schedule tasks.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following activity diagram shows how scheduler works when it is called to schedule tasks:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SchedulerActivityDiagram.png" alt="SAD" width="500">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram shows an example of how event command and scheduler work together:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CalendarActivityDiagram.png" alt="CAD" width="600">
</div>
</div>
</div>
<div class="sect4">
<h5 id="example-usage-scenario"><a class="link" href="#example-usage-scenario">Example usage scenario</a></h5>
<div class="paragraph">
<p>Given below is an example usage scenario and how the calendar behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time on Dec 14 2019 09:00(local time). The <code>Calendar</code> will be initialized with the initial calendar state, which includes an empty calendar
entry list and an empty past reminder list.</p>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>reminder d/insulin injection dt/2019-12-14 17:30 r/daily</code> command to add a new reminder of 'insulin inject' at 17:30 every day. The <code>reminder</code> command calls <code>Model#addCalendarEntry()</code>,
causing the modified state of the calendar after the reminder command executes to be saved in the <code>calendarEntries</code> list. Subsequently, it calls <code>Model#schedule()</code> which forces the scheduler to update the upcoming
reminders.</p>
</div>
<div class="paragraph">
<p>Step 3. The user executes <code>event d/meeting dt/2019-12-14 14:30 tp/00:30</code> command to add an new event with an auto reminder scheduled 30 minutes
before the event. It calls <code>Model#addCalendarEntry()</code>, causing a new event as well as a new reminder saved in the <code>calendarEntries</code> list. Subsequently, it calls <code>Model#schedule()</code> which forces the scheduler to
update the upcoming reminders.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If an event or reminder command fails its execution, it will not call <code>Model#addCalendarEntry()</code>, so the calendar state will not be saved into the <code>calendarEntryList</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 4. At 14:00, a scheduled task is executed to call <code>Calendar#addPastReminder()</code> and it adds the dinner event reminder to the <code>pastReminders</code> list.</p>
</div>
<div class="paragraph">
<p>Step 5. At 17:30, a scheduled task is executed to call <code>Calendar#addPastReminder()</code> and it adds the dinner event reminder to the <code>pastReminders</code> list.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how a single <code>reminder</code> command works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CalendarSequenceDiagram.png" alt="CalendarSequenceDiagram">
</div>
</div>
</div>
<div class="sect4">
<h5 id="calendarcommand-class"><a class="link" href="#calendarcommand-class">CalendarCommand class</a></h5>
<div class="paragraph">
<p><code>CalendarCommand</code> is implemented for showing calendar entries and monthly calendar. It consists of a <code>YearMonth</code>, an optional <code>YearMonthDay</code>, <code>isShowingWeek</code>
and <code>isShowingRaw</code> fields. The result of executing a <code>CalendarCommand</code> is a subclass <code>CalendarCommandResult</code> extending from <code>CommandResult</code>, which will be considered
differently in the <code>MainWindow</code>. <code>MainWindow</code> will create a pane depending on the attributes of <code>CalendarCommandResult</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-scheduler-updates-upcoming-reminders"><a class="link" href="#aspect-how-scheduler-updates-upcoming-reminders">Aspect: How scheduler updates upcoming reminders</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Cancels all scheduled reminders and reschedule according to the updated reminder entries.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: May have to do duplicate work of scheduling. May have performance issues in terms of time.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Updates scheduled reminders according to the newly added reminder.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will has less repeated work.</p>
</li>
<li>
<p>Cons: More work to do on deciding which tasks to cancel.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-period-of-updating-scheduler"><a class="link" href="#aspect-period-of-updating-scheduler">Aspect: Period of updating scheduler.</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Updates scheduler at 23:59(local time) every day.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Good consistency.</p>
</li>
<li>
<p>Cons: May have a large number of scheduled tasks which will not be executed before the application is closed.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Updates scheduler every hour.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More flexible scheduling without concerning date and less scheduled tasks.</p>
</li>
<li>
<p>Cons: May cause overhead due to frequently updating.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-resolution-of-overlapping-reminders"><a class="link" href="#aspect-resolution-of-overlapping-reminders">Aspect: Resolution of overlapping reminders</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Force to replace subset reminders with new superset reminders which fully cover existing reminders.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Avoid duplicate reminders added which the user may not be aware of.</p>
</li>
<li>
<p>Cons: May remove some reminders that the user was not intent to do.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Asks for user&#8217;s permission before proceeding.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Can avoid unintentionally reminders deleting.</p>
</li>
<li>
<p>Cons: May cause some duplicate reminders.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reminder-and-event-command"><a class="link" href="#reminder-and-event-command">Reminder and Event Command</a></h3>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: The calendar entry list is empty.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code>reminder d/insulin inject dt/2019-11-30 17:00</code><br>
Expected: Feedback message indicates that a new reminder: insulin inject On 2019-11-30 17:00 is added and the pane of all calendar entries shown.</p>
</li>
<li>
<p>Test case: <code>reminder d/test dt/2019-12-10 12:00 r/daily</code><br>
Expected: Feedback message indicates that a new reminder: test At 12:00 everyday From 2019-12-10 is added and the pane of all calendar entries shown.</p>
</li>
<li>
<p>Test case: <code>event d/test dt/2019-12-01 11:00 dt/2019-12-01 11:30 td/01:00</code><br>
Expected: Feedback message indicates that a new event: test From 2019-12-01 11:00 To: 2019-12-01 11:30 is added along with a new reminder for the event:
Event: test in 1 hours 0 minutes On 2019-12-01 10:00. And the pane of all calendar entries shown.</p>
</li>
<li>
<p>Test case: <code>event d/test dt/2019-12-01 11:00 dt/2019-12-01 10:00</code><br>
Expected: Error message shown: The ending date time of an event should come after starting date time.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Prerequisites: The calendar entry list contains the following entries:<br>
reminder: insulin inject On 2019-11-30 17:00<br>
reminder: test At 12:00 everyday From 2019-12-10<br>
event: test From 2019-12-01 11:00 To: 2019-12-01 11:30<br>
reminder: Event: test in 1 hours 0 minutes On 2019-12-01 10:00<br>
The following commands are typed in the order they present.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code>reminder d/insulin inject dt/2019-11-30 17:00</code><br>
Expected: Error message shown: This reminder already exists in the calendar</p>
</li>
<li>
<p>Test case: <code>reminder d/insulin inject dt/2019-11-30 17:00 r/daily</code><br>
Expected: Feedback message indicates that a new reminder: insulin inject At 17:00 everyday From 2019-11-30 is added and the following reminder(s) were removed because they are covered by the new reminder:
insulin inject On 2019-11-30 17:00. Also the pane of all all calendar entries shown.</p>
</li>
<li>
<p>Test case: <code>reminder d/insulin inject dt/2019-12-20 17:00 r/weekly</code><br>
Expected: Error message shown: This reminder is covered by insulin inject At 17:00 everyday From 2019-11-30.</p>
</li>
<li>
<p>Test case: <code>reminder d/insulin inject dt/2019-11-20 17:00 r/weekly</code><br>
Expected: Error message shown: This reminder and the following reminder(s) conflict: insulin inject At 17:00 everyday From 2019-11-30.</p>
</li>
<li>
<p>Test case: <code>event d/test dt/2019-12-01 11:00 dt/2019-12-01 11:30</code><br>
Expected: Error message shown: This event already exists in the calendar.</p>
</li>
<li>
<p>Test case: <code>event d/test2 dt/2019-12-01 10:00 dt/2019-12-01 11:30</code><br>
Expected: Feedback message indicates that a new event: test2 From 2019-12-01 10:00 To: 2019-12-01 11:30 is added. However, it overlaps with the following events: test From 2019-12-01 11:00 To: 2019-12-01 11:30.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="reminder-list-side-pane"><a class="link" href="#reminder-list-side-pane">Reminder list side pane</a></h3>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: The calendar entry list contains the following entries:<br>
reminder: insulin inject At 17:00 everyday From 2019-11-30<br>
reminder: test At 12:00 everyday From 2019-12-10<br>
event: test From 2019-12-01 11:00 To: 2019-12-01 11:30<br>
reminder: Event: test in 1 hours 0 minutes On 2019-12-01 10:00<br>
reminder: test2 At 16:00 everyday From 2019-11-20<br>
The user opens the app on 2019-12-11 15:00 and does not close it until 18:00.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Expected: The side pane shows reminders that the user might miss today:<br>
test at 12:00<br>
At 16:00, a reminder of test2 is shown in the side pane.</p>
</li>
<li>
<p>Test case: <code>reminder d/test3 dt/2019-12-11 16:30</code>(typed in at 16:10)<br>
Expected: At 16:30, a reminder of test3 is shown in the side pane.<br>
At 17:00, a reminder of insulin inject is shown in the side pane.<br></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="calendar-command"><a class="link" href="#calendar-command">Calendar Command</a></h3>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: The calendar entry list contains the following entries:<br>
reminder: test At 12:00 everyday From 2019-12-10<br>
event: test From 2019-12-01 11:00 To: 2019-12-01 11:30<br>
The user opens the app on 2019-11-20</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test case: <code>calendar</code><br>
Expected: A pane of all the calendar entries added is shown.</p>
</li>
<li>
<p>Test case: <code>calendar ym/2019-12</code><br>
Expected: A monthly calendar of 2019 Dec is shown. Below are calendar entries on each day of 2019 Dec.
In this case, there is a reminder of test at 12:00 listed in list for each day from Dec 10. An event of
test from 11:00 to 11:30 is listed in Dec 1&#8217;s list.</p>
</li>
<li>
<p>Test case: <code>calendar ymw/</code><br>
Expected: A monthly calendar of 2019 Nov is shown. Below are calendar entries on each day from Nov 16 to
Nov 22.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<hr>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 04:34:01 UTC</div></div></div></body></html>